!function e(t,n,s){function r(a,o){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!o&&c)return c(a,!0);if(l)return l(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n||e)},u,u.exports,e,t,n,s)}return n[a].exports}for(var l="function"==typeof require&&require,a=0;a<s.length;a++)r(s[a]);return r}({1:[function(e,t,n){"use strict";window.addEventListener("DOMContentLoaded",function(){var e=5,t=15,n=200,s=document.querySelector(".table"),r=document.querySelectorAll(".row"),l=document.querySelectorAll(".cell"),a="cell--active",o=document.querySelector(".btn-start"),c=document.querySelector(".start-overlay"),u=document.querySelector(".coins-box").children[0],d=document.createElement("img");d.classList.add("apple-img"),d.src="img/apple.svg",d.alt="apple";var i=document.createElement("p");i.classList.add("message");var m=[],w=L,g=0;function h(e,t){this.row=e,this.cell=t}function p(){return m[m.length-1].row}function f(){return m[m.length-1].cell}function v(){s.rows[p()].cells[f()].classList.add(a),s.rows[p()].cells[f()].dataset.snake="s"}function y(){s.rows[m[0].row].cells[m[0].cell].classList.remove(a),s.rows[m[0].row].cells[m[0].cell].removeAttribute("data-snake"),m.shift()}function q(){var e=Math.floor(Math.random()*r.length),t=Math.floor(Math.random()*l.length/r.length);"s"===s.rows[e].cells[t].dataset.snake?q():(s.rows[e].cells[t].dataset.tag="a",s.rows[e].cells[t].appendChild(d),0===g?(i.innerHTML="Let's play?",s.rows[e].cells[t].appendChild(i)):1===g?(i.innerHTML="А есть меня-то зачем?",s.rows[e].cells[t].appendChild(i)):2===g&&(i.innerHTML="Фигня, а не игра...",s.rows[e].cells[t].appendChild(i)))}function k(){var e=document.querySelector('[data-tag="a"]');e.removeAttribute("data-tag"),document.querySelector(".message")&&document.querySelector(".message").remove(),document.querySelector(".apple-img")&&document.querySelector(".apple-img").remove(),++g,u.innerHTML=g}function L(){"a"===s.rows[p()-1].cells[f()].dataset.tag&&p()-1>=0&&(m.push(new h(p()-1,f())),v(),k()),p()-1>=0&&(m.push(new h(p()-1,f())),v(),y())}function S(){"a"===s.rows[p()+1].cells[f()].dataset.tag&&p()+1<=r.length-1&&(m.push(new h(p()+1,f())),v(),k()),p()+1<=r.length-1&&(m.push(new h(p()+1,f())),v(),y())}function M(){"a"===s.rows[p()].cells[f()+1].dataset.tag&&f()+1<=l.length/r.length-1&&(m.push(new h(p(),f()+1)),v(),k()),f()+1<=l.length/r.length-1&&(m.push(new h(p(),f()+1)),v(),y())}function E(){"a"===s.rows[p()].cells[f()-1].dataset.tag&&f()-1>=0&&(m.push(new h(p(),f()-1)),v(),k()),f()-1>=0&&(m.push(new h(p(),f()-1)),v(),y())}function b(e){e.preventDefault();var t=e.keyCode;38!==t&&40!==t&&37!==t&&39!==t||(39===t&&w!==E?w=M:38===t&&w!==S?w=L:40===t&&w!==L?w=S:37===t&&w!==M&&(w=E),window.removeEventListener("keydown",b))}o.addEventListener("click",C);window.addEventListener("keydown",function(e){var t=e.keyCode;13===t&&"none"!==c.style.display&&C()});function C(){c.style.display="none",function(){for(var n=0;n<e;n++)s.rows[r.length-1-n].cells[t-1].classList.add(a),s.rows[r.length-1-n].cells[t-1].dataset.snake="s",m.push(new h(r.length-1-n,t-1))}(),q(),setTimeout(function e(){window.addEventListener("keydown",b),document.querySelector('[data-tag="a"]')||q(),0===p()&&w===L||p()===r.length-1&&w===S||0===f()&&w===E||f()===l.length/r.length-1&&w===M||0===p()&&w===S&&"s"===s.rows[p()+1].cells[f()].dataset.snake||p()===r.length-1&&w===L&&"s"===s.rows[p()-1].cells[f()].dataset.snake||0===f()&&w===M&&"s"===s.rows[p()].cells[f()+1].dataset.snake||f()===l.length/r.length-1&&w===E&&"s"===s.rows[p()].cells[f()-1].dataset.snake||p()-1>=0&&p()+1<=r.length-1&&f()-1>=0&&f()+1<=l.length/r.length-1&&("s"===s.rows[p()-1].cells[f()].dataset.snake&&w===L||"s"===s.rows[p()+1].cells[f()].dataset.snake&&w===S||"s"===s.rows[p()].cells[f()-1].dataset.snake&&w===E||"s"===s.rows[p()].cells[f()+1].dataset.snake&&w===M)?(!function(){var e=document.querySelectorAll("."+a),t=document.querySelector('[data-tag="a"]');e.forEach(function(e){e.classList.remove(a),e.removeAttribute("data-snake")}),t.removeAttribute("data-tag"),document.querySelector(".apple-img")&&document.querySelector(".apple-img").remove();document.querySelector(".message")&&document.querySelector(".message").remove();g=0,u.innerHTML=0,w=L,c.style.display="block",m=[]}(),alert("game over")):(w(),setTimeout(e,n-2*g))},n)}})},{}]},{},[1]);